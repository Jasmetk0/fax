{% extends 'msa/manage_base.html' %}
{% load static %}
{% block extra_head %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'msa/players.css' %}">
{% endblock %}
{% block popup_content %}
<h1 class="mb-4">Edit Players</h1>
<form method="get" class="mb-4 badges">
  <input type="text" name="q" value="{{ q }}" placeholder="Search" class="text-black"/>
  <button type="submit" class="btn btn-sm">Filter</button>
  </form>
<div class="mb-4">
  <h2 class="mb-2">Current Players ({{ registered_entries|length }})</h2>
  <ul>
    {% for entry in registered_entries %}
    <li>{{ entry.entry_order }}. {{ entry.player.name }} ({% if entry.player.country %}{{ entry.player.country }}{% else %}-{% endif %}){% if show_world_ranking %} – {% if entry.world_rank %}#{{ entry.world_rank }}{% else %}-{% endif %}{% endif %} – {{ entry.path_label }}</li>
    {% empty %}
    <li class="muted">No players registered.</li>
    {% endfor %}
  </ul>
</div>
<form method="post" class="card-body">
  {% csrf_token %}
  <ul class="mb-4">
    {% for item in players %}
    <li>
      <label><input type="checkbox" name="player_ids" value="{{ item.player.id }}"/> {{ item.player.name }}{% if item.restore %} (Restore){% endif %}</label>
    </li>
    {% empty %}
    <li>No players available.</li>
    {% endfor %}
  </ul>
  <button type="submit" class="btn btn-primary">Done</button>
</form>
{% endblock %}
