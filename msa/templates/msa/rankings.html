{% extends 'msa/base.html' %}
{% block msa_content %}
<!-- MSA-REDESIGN: nav included in base -->
<div class="flex justify-between items-center mb-4">
  <h1 class="text-3xl font-semibold">Žebříček{% if snapshot %} ({{ snapshot.as_of }}){% endif %}</h1>
  {% if admin %}<a href="{% url 'msa:snapshot-create' %}" class="bg-blue-600 hover:bg-blue-500 text-white rounded-xl px-4 py-2 text-sm" aria-label="Add Snapshot">Add Snapshot</a>{% endif %}
</div>

<form method="get" class="mb-4">
  <input type="date" name="as_of" {% if snapshot %}value="{{ snapshot.as_of|date:'Y-m-d' }}"{% endif %} class="border border-slate-800 bg-slate-900 rounded px-2 py-1"/>
  <button class="bg-slate-800 text-slate-100 rounded px-3 py-1">Zobraz</button>
</form>

<table class="w-full mb-4 text-sm">
  <tr class="bg-slate-900 text-slate-200"><th class="text-left px-2 py-1">Rank</th><th class="text-left px-2 py-1">Player</th><th class="text-left px-2 py-1">Points</th>{% if admin %}<th></th>{% endif %}</tr>
  {% for e in entries %}
  <tr class="border-b border-slate-800"><td class="px-2 py-1">{{ e.rank }}</td><td class="px-2 py-1">{{ e.player.name }}</td><td class="px-2 py-1">{{ e.points }}</td>{% if admin %}<td class="px-2 py-1 text-right space-x-2"><a href="{% url 'msa:entry-edit' e.id %}" class="text-slate-400" aria-label="Edit">Edit</a><a href="{% url 'msa:entry-delete' e.id %}" class="text-red-500" aria-label="Delete">Delete</a></td>{% endif %}</tr>
  {% empty %}
  <tr><td colspan="4" class="text-center py-4">No entries.</td></tr>
  {% endfor %}
</table>

{% if admin %}
<a href="{% url 'msa:entry-create' %}" class="bg-blue-600 hover:bg-blue-500 text-white rounded-xl px-4 py-2 text-sm" aria-label="Add Entry">Add Entry</a>
{% endif %}

{% endblock %}

