{% extends "mma/base.html" %}
{% block page_title %}{{ event.name }} – FAX{% endblock %}
{% block mma_content %}
<h1 class="mb-4 text-2xl font-bold">{{ event.name }}
  {% if admin %}<span class="text-sm space-x-2"><a href="{% url 'admin:mma_event_change' event.id %}" class="text-slate-400" aria-label="Edit">Edit</a><a href="{% url 'admin:mma_event_delete' event.id %}" class="text-red-500" aria-label="Delete">Delete</a></span>{% endif %}
</h1>
<div class="mb-4 text-sm text-slate-600">{{ event.organization.short_name }} – {{ event.date_start|date:"d.m.Y H:i" }} – {{ event.venue.name }}</div>
<div class="flex justify-between items-center mb-2">
  <h2 class="text-xl font-semibold">Fight Card</h2>
  {% if admin %}<a href="{% url 'admin:mma_bout_add' %}?event={{ event.id }}" class="text-sm text-blue-400" aria-label="Add Bout">Add Bout</a>{% endif %}
</div>
<table class="min-w-full text-sm">
  <thead>
    <tr class="border-b">
      <th class="px-2 py-1 text-left">Red</th>
      <th class="px-2 py-1 text-left">Blue</th>
      <th class="px-2 py-1 text-left">Result</th>
      {% if admin %}<th class="px-2 py-1 text-right">Actions</th>{% endif %}
    </tr>
  </thead>
  <tbody>
    {% for b in bouts %}
      <tr class="border-b last:border-0">
        <td class="px-2 py-1">{{ b.fighter_red.first_name }} {{ b.fighter_red.last_name }}</td>
        <td class="px-2 py-1">{{ b.fighter_blue.first_name }} {{ b.fighter_blue.last_name }}</td>
        <td class="px-2 py-1">{{ b.get_result_display }}</td>
        {% if admin %}<td class="px-2 py-1 text-right space-x-2"><a href="{% url 'admin:mma_bout_change' b.id %}" class="text-slate-400" aria-label="Edit">Edit</a><a href="{% url 'admin:mma_bout_delete' b.id %}" class="text-red-500" aria-label="Delete">Delete</a></td>{% endif %}
      </tr>
    {% empty %}
      <tr><td colspan="{% if admin %}4{% else %}3{% endif %}" class="px-2 py-2 text-slate-500">No bouts.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
