{% extends "base.html" %}
{% block title %}Domů – FAX Portal{% endblock %}
{% block content %}
<section class="relative isolate px-4 pt-8">
  <div class="absolute -left-10 -top-10 h-56 w-56 rounded-full bg-brand/20 blur-3xl"></div>
  <div class="absolute bottom-0 right-0 h-56 w-56 rounded-full bg-brand/20 blur-3xl"></div>
  <div class="relative mx-auto max-w-4xl rounded-3xl border border-slate-200 bg-white/70 p-8 shadow-soft backdrop-blur dark:border-slate-800 dark:bg-slate-900/70">
    <h1 class="text-3xl font-bold">Vše na jednom místě</h1>
    <p class="mt-2 text-slate-600 dark:text-slate-400">Objevujte wiki články, mapy a sportovní data na jednom místě.</p>
    <form action="/search" method="get" class="relative mt-6">
      <svg xmlns="http://www.w3.org/2000/svg" class="pointer-events-none absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 1010.5 18a7.5 7.5 0 006.15-3.35z"/></svg>
      <input name="q" type="search" placeholder="Hledat Woorld… (Ctrl/⌘K)" class="w-full rounded-xl border border-slate-300 bg-white/50 py-3 pl-10 pr-4 text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-brand/50 dark:border-slate-700 dark:bg-slate-800/50 dark:placeholder-slate-500" />
    </form>
  </div>
</section>
<section class="mx-auto mt-10 w-full px-4 sm:w-[90%] lg:w-[60%]">
  <div class="mb-4 flex items-center justify-between">
    <h2 class="text-lg font-semibold">Moje widgety</h2>
    <div class="flex gap-2">
      <button id="widgets-edit" class="rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-100 dark:hover:bg-slate-800">Uspořádat</button>
      <button id="widgets-save" class="hidden rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-100 dark:hover:bg-slate-800">Uložit rozložení</button>
    </div>
  </div>
  <div id="widgets" data-key="home.widgets.v1" role="list" class="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
    <a href="/wiki/" data-id="wiki" role="listitem" class="rounded-2xl border border-slate-200 bg-white p-5 shadow-soft transition hover:shadow-lg dark:border-slate-800 dark:bg-slate-900">
      <div class="mb-1 text-sm text-slate-500">📚 Wiki</div>
      <div class="font-medium">Encyklopedie FAX</div>
      <div class="mt-4 text-xs text-slate-500">Aktualizováno…</div>
    </a>
    <a href="/maps/" data-id="maps" role="listitem" class="rounded-2xl border border-slate-200 bg-white p-5 shadow-soft transition hover:shadow-lg dark:border-slate-800 dark:bg-slate-900">
      <div class="mb-1 text-sm text-slate-500">🗺️ Mapy</div>
      <div class="font-medium">Leaflet mapy</div>
      <div class="mt-4 text-xs text-slate-500">Aktualizováno…</div>
    </a>
    <a href="/livesport/" data-id="sport" role="listitem" class="rounded-2xl border border-slate-200 bg-white p-5 shadow-soft transition hover:shadow-lg dark:border-slate-800 dark:bg-slate-900">
      <div class="mb-1 text-sm text-slate-500">🏅 Sport</div>
      <div class="font-medium">LiveSport</div>
      <div class="mt-4 text-xs text-slate-500">Právě teď</div>
    </a>
    <a href="/msasquashtour/" data-id="msa" role="listitem" class="rounded-2xl border border-slate-200 bg-white p-5 shadow-soft transition hover:shadow-lg dark:border-slate-800 dark:bg-slate-900">
      <div class="mb-1 text-sm text-slate-500">🎾 MSA Squash</div>
      <div class="font-medium">MSA Squash Tour</div>
      <div class="mt-4 text-xs text-slate-500">Nové turnaje</div>
    </a>
    <button id="widgets-add" type="button" role="listitem" class="rounded-2xl border-2 border-dashed border-slate-300 bg-white p-5 text-left text-slate-500 shadow-soft transition hover:border-brand-400 hover:text-slate-700 hover:shadow-lg dark:border-slate-700 dark:bg-slate-900 dark:hover:border-brand-400 dark:hover:text-slate-200">＋ Přidat widget</button>
  </div>
  <div id="widgets-empty" class="hidden py-8 text-center text-sm text-slate-500">Zatím žádné widgety — přidejte si první</div>
</section>

<div id="widgets-panel" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/40 backdrop-blur-sm">
  <div class="w-[min(90%,400px)] rounded-2xl border border-slate-200 bg-white p-4 shadow-xl dark:border-slate-800 dark:bg-slate-900">
    <div class="mb-3 text-lg font-medium">Přidat widget</div>
    <input id="widgets-search" type="text" placeholder="Filtrovat..." class="mb-3 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-800" />
    <ul id="widgets-list" class="max-h-64 space-y-1 overflow-y-auto"></ul>
    <div class="mt-4 text-right">
      <button id="widgets-panel-close" class="rounded-lg border px-3 py-1.5 text-sm hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800">Zavřít</button>
    </div>
  </div>
</div>
<div id="widgets-live" class="sr-only" aria-live="polite"></div>
{% endblock %}
