/* =========================================================
   Woorld Calendar – complete stylesheet (vanilla JS version)
   ========================================================= */

/* -------------------- Tokens -------------------- */
:root {
  --wc-font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --wc-radius: 14px;
  --wc-gap: 10px;

  /* neutrals */
  --wc-bg: #ffffff;
  --wc-elev: #f7f7f9;
  --wc-card: #ffffff;
  --wc-text: #0f172a;
  --wc-text-dim: #475569;
  --wc-border: #e5e7eb;
  --wc-ring: #2563eb;

  /* seasons (brand) */
  --wc-winter: #3b82f6; /* blue */
  --wc-spring: #84cc16; /* yellow-green */
  --wc-summer: #22c55e; /* green */
  --wc-autumn: #b45309; /* red-brown */

  /* soft tints */
  --wc-winter-bg: color-mix(in srgb, var(--wc-winter) 12%, #ffffff);
  --wc-spring-bg: color-mix(in srgb, var(--wc-spring) 12%, #ffffff);
  --wc-summer-bg: color-mix(in srgb, var(--wc-summer) 12%, #ffffff);
  --wc-autumn-bg: color-mix(in srgb, var(--wc-autumn) 12%, #ffffff);
  
  /* day count colors */
  --wc-month-28: var(--wc-winter-bg);
  --wc-month-29: var(--wc-spring-bg);
  --wc-month-30: var(--wc-summer-bg);
  --wc-month-31: var(--wc-autumn-bg);
  --wc-month-48: var(--wc-autumn-bg);
  --wc-year-428: var(--wc-winter-bg);
  --wc-year-429: var(--wc-spring-bg);
  --wc-year-430: var(--wc-summer-bg);
  --wc-year-447: var(--wc-autumn-bg);

  --wc-shadow: 0 10px 30px rgba(2, 6, 23, 0.12);
}

.wc-dark {
  --wc-bg: #0b1020;
  --wc-elev: #12182a;
  --wc-card: #0f1528;
  --wc-text: #e5eaf5;
  --wc-text-dim: #b6c0d9;
  --wc-border: #26314a;
  --wc-ring: #60a5fa;

  --wc-winter-bg: color-mix(in srgb, var(--wc-winter) 18%, #0f1528);
  --wc-spring-bg: color-mix(in srgb, var(--wc-spring) 18%, #0f1528);
  --wc-summer-bg: color-mix(in srgb, var(--wc-summer) 18%, #0f1528);
  --wc-autumn-bg: color-mix(in srgb, var(--wc-autumn) 18%, #0f1528);

  --wc-shadow: 0 12px 40px rgba(0,0,0,0.35);
}

/* -------------------- Overlay & Card -------------------- */
.wc-overlay {
  position: fixed; inset: 0; z-index: 10000;
  background: color-mix(in srgb, var(--wc-bg) 40%, transparent);
  display: flex; align-items: center; justify-content: center;
  padding: 24px;
}
.wc-card {
  width: auto;
  max-width: 96vw;
  max-height: 92vh; overflow: hidden;
  background: var(--wc-card); color: var(--wc-text);
  border: 1px solid var(--wc-border);
  border-radius: var(--wc-radius);
  box-shadow: var(--wc-shadow);
  display: grid;
  grid-template-rows: auto auto 1fr;
}

/* -------------------- Header -------------------- */
.wc-header {
  display: flex;
  align-items: center;
  gap: var(--wc-gap);
  flex-wrap: nowrap;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding: 14px 16px;
  background: var(--wc-elev);
  border-bottom: 1px solid var(--wc-border);
}

/* blocks in a line */
.wc-month-ctrl,
.wc-year-ctrl,
.wc-year-len {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 0 0 auto;
}

/* theme switch to the far right */
.wc-theme-toggle { margin-left: auto; order: 99; }

/* stacked arrows */
.wc-vert-arrows { display: flex; flex-direction: column; gap: 4px; }

/* inputs */
.wc-select, .wc-input {
  height: 32px; line-height: 32px; padding: 0 8px;
  font: 600 14px/1 var(--wc-font);
  background: var(--wc-card); color: var(--wc-text);
  border: 1px solid color-mix(in srgb, var(--wc-border) 70%, transparent);
  border-radius: 12px;
  box-shadow: 0 1px 0 rgba(2,6,23,.04);
  min-width: 100px;
}
.wc-badge {
  position: relative;
  padding-right: 40px;
}

.wc-badge::after {
  content: attr(data-days);
  position: absolute;
  top: 50%;
  right: 8px;
  transform: translateY(-50%);
  background: var(--wc-elev);
  color: var(--wc-text-dim);
  font-size: 11px;
  line-height: 1;
  padding: 0 4px;
  border-radius: 8px;
}

/* badge colors */
.wc-badge[data-days="28"]::after { background: var(--wc-month-28); }
.wc-badge[data-days="29"]::after { background: var(--wc-month-29); }
.wc-badge[data-days="30"]::after { background: var(--wc-month-30); }
.wc-badge[data-days="31"]::after { background: var(--wc-month-31); }
.wc-badge[data-days="48"]::after { background: var(--wc-month-48); }
.wc-badge[data-days="428"]::after { background: var(--wc-year-428); }
.wc-badge[data-days="429"]::after { background: var(--wc-year-429); }
.wc-badge[data-days="430"]::after { background: var(--wc-year-430); }
.wc-badge[data-days="447"]::after { background: var(--wc-year-447); }
.wc-input[type="number"] { -moz-appearance: textfield; }
.wc-input::-webkit-outer-spin-button, .wc-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

/* chips (month days / year days) – two lines */
.wc-meta__pill,
.wc-month-len,
.wc-year-days {
  display: inline-grid; place-items: center;
  min-width: 64px; max-width: 84px;
  padding: 10px 10px;
  line-height: 1.05; text-align: center; white-space: normal;
  border: 1px solid var(--wc-border);
  border-radius: 12px;
  background: var(--wc-card);
  color: var(--wc-text);
  box-shadow: 0 1px 0 rgba(2,6,23,.04);
}

/* icon button + generic button */
.wc-iconbtn, .wc-btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 6px; height: 34px; padding: 0 10px; cursor: pointer;
  border-radius: 10px; border: 1px solid var(--wc-border); background: var(--wc-card);
  color: var(--wc-text); font: 600 13px/1 var(--wc-font);
  transition: transform .06s ease, background .15s, border-color .15s, color .15s;
}
.wc-iconbtn { width: 28px; height: 28px; padding: 0; }
.wc-iconbtn:hover, .wc-btn:hover { background: var(--wc-elev); }
.wc-iconbtn:active, .wc-btn:active { transform: translateY(1px); }
.wc-btn--primary { background: var(--wc-text); color: var(--wc-card); border-color: var(--wc-text); }
.wc-btn--ghost { background: transparent; }
.wc-btn[disabled] { opacity: .45; cursor: not-allowed; filter: grayscale(.2); }


/* -------------------- Month Section -------------------- */
.wc-month { border: 1px solid var(--wc-border); border-radius: 12px; overflow: hidden; background: var(--wc-card); }
.wc-month__head {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; font: 700 16px/1 var(--wc-font); color: var(--wc-text);
  background: var(--wc-elev); border-bottom: 1px solid var(--wc-border);
}
.wc-month__days { font: 600 12px/1 var(--wc-font); color: var(--wc-text-dim); }

.wc-weekdays {
  display: grid; grid-template-columns: repeat(7,1fr);
  font: 700 11px/1 var(--wc-font); color: var(--wc-text-dim);
  padding: 8px 12px 0;
}
.wc-weekdays span { text-align: center; }

/* -------------------- Days Grid -------------------- */
.wc-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; padding: 8px 10px 12px; }
.wc-grid > div:not(.wc-day) { aspect-ratio: 1 / 1; }
.wc-day {
  height: 44px; border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font: 700 14px/1 var(--wc-font); color: var(--wc-text);
  border: 1px solid color-mix(in srgb, var(--wc-border) 60%, transparent);
  box-shadow: 0 1px 0 rgba(2,6,23,.05);
  cursor: pointer; position: relative;
  transition: transform .05s ease, background .15s ease, border-color .15s ease;
}
.wc-day:hover { background: color-mix(in srgb, var(--wc-elev) 75%, transparent); border-color: color-mix(in srgb, var(--wc-border) 85%, transparent); }
.wc-day.is-disabled { opacity: .25; pointer-events: none; }
.wc-day.is-today { box-shadow: inset 0 0 0 2px var(--wc-ring); border-radius: 12px; }

/* seasonal tints */
.wc-day.season-winter { background: var(--wc-winter-bg); }
.wc-day.season-spring { background: var(--wc-spring-bg); }
.wc-day.season-summer { background: var(--wc-summer-bg); }
.wc-day.season-autumn { background: var(--wc-autumn-bg); }

/* weekend = slightly stronger */
.wc-day.is-weekend.season-winter { background: color-mix(in srgb, var(--wc-winter) 30%, transparent); }
.wc-day.is-weekend.season-spring { background: color-mix(in srgb, var(--wc-spring) 30%, transparent); }
.wc-day.is-weekend.season-summer { background: color-mix(in srgb, var(--wc-summer) 30%, transparent); }
.wc-day.is-weekend.season-autumn { background: color-mix(in srgb, var(--wc-autumn) 30%, transparent); }

/* základ: bez outline, vše řeší border + inset ring */
.wc-day.is-selected { outline: 0; }

/* Winter */
.wc-day.season-winter.is-selected {
  background: color-mix(in srgb, var(--wc-winter) 40%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-winter) 80%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-winter) 65%, transparent);
}

/* Spring */
.wc-day.season-spring.is-selected {
  background: color-mix(in srgb, var(--wc-spring) 40%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-spring) 80%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-spring) 65%, transparent);
}

/* Summer */
.wc-day.season-summer.is-selected {
  background: color-mix(in srgb, var(--wc-summer) 40%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-summer) 80%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-summer) 65%, transparent);
}

/* Autumn */
.wc-day.season-autumn.is-selected {
  background: color-mix(in srgb, var(--wc-autumn) 40%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-autumn) 80%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-autumn) 65%, transparent);
}

/* Selected + WEEKEND = ještě sytější barvy (přepíše .is-selected) */
.wc-day.is-weekend.season-winter.is-selected {
  background: color-mix(in srgb, var(--wc-winter) 64%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-winter) 88%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-winter) 75%, transparent);
}

.wc-day.is-weekend.season-spring.is-selected {
  background: color-mix(in srgb, var(--wc-spring) 64%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-spring) 88%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-spring) 75%, transparent);
}

.wc-day.is-weekend.season-summer.is-selected {
  background: color-mix(in srgb, var(--wc-summer) 64%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-summer) 88%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-summer) 75%, transparent);
}

.wc-day.is-weekend.season-autumn.is-selected {
  background: color-mix(in srgb, var(--wc-autumn) 64%, var(--wc-card));
  border-color: color-mix(in srgb, var(--wc-autumn) 88%, var(--wc-border));
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-autumn) 75%, transparent);
}

/* Winter II (anchor day) marker – if you add .is-winter-mark in JS */
.wc-day.is-winter-mark {
  box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--wc-winter) 60%, transparent);
}
.wc-day.is-winter-mark::after {
  content: ""; position: absolute; top: 6px; right: 6px;
  width: 6px; height: 6px; border-radius: 999px; background: var(--wc-winter);
}

/* -------------------- DOY Slider -------------------- */
.wc-doy-scrubber { position: relative; padding: 0 16px 8px; }
.wc-doy-range { width: 100%; -webkit-appearance: none; background: transparent; height: 18px; }
.wc-doy-range::-webkit-slider-runnable-track {
  height: 6px; border-radius: 999px;
  background: transparent;
  border: none;
}
.wc-doy-range::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px; height: 18px; border-radius: 999px; margin-top: -6px;
  background: var(--wc-card); border: 2px solid var(--wc-ring);
  box-shadow: 0 1px 2px rgba(2,6,23,.18);
}
.wc-doy-range::-moz-range-track {
  height: 6px; border-radius: 999px;
  background: transparent;
  border: none;
}
.wc-doy-range::-moz-range-thumb {
  width: 18px; height: 18px; border-radius: 999px;
  background: var(--wc-card); border: 2px solid var(--wc-ring);
  box-shadow: 0 1px 2px rgba(2,6,23,.18);
}

.wc-doy-track { position: relative; height: 10px; border-radius: 999px; overflow: hidden; background: var(--wc-elev); }
.wc-doy-track__seg { position: absolute; top:0; bottom:0; left: var(--l); width: var(--w); }
.wc-doy-track__seg.winter { background: var(--wc-winter); }
.wc-doy-track__seg.spring { background: var(--wc-spring); }
.wc-doy-track__seg.summer { background: var(--wc-summer); }
.wc-doy-track__seg.autumn { background: var(--wc-autumn); }
.wc-doy-track__mark { position: absolute; top:-3px; bottom:-3px; width: 2px; background: var(--wc-border); opacity: .8; }

/* -------------------- Month & Sidebar -------------------- */
.wc-body {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 0 10px 12px;
}
.wc-month { flex: 0 0 400px; }
.wc-footer {
  flex: 0 0 200px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 10px 16px;
  background: color-mix(in srgb, var(--wc-elev) 85%, transparent);
  border: 1px solid color-mix(in srgb, var(--wc-border) 60%, transparent);
  border-radius: 12px;
  margin: 0;
  font: 600 12px/1.2 var(--wc-font);
  color: var(--wc-text-dim);
}
.wc-footer-info {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.wc-footer strong { color: var(--wc-text); }

@media (max-width: 640px) {
  .wc-body { flex-direction: column; }
  .wc-month { flex: 0 0 auto; }
  .wc-footer {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    margin: 6px 10px 12px;
    border-top: 1px solid color-mix(in srgb, var(--wc-border) 60%, transparent);
    border-left: none;
  }
  .wc-footer-info {
    flex-direction: row;
    gap: 12px;
  }
}

/* -------------------- Tooltip -------------------- */
.wc-tooltip {
  position: absolute; z-index: 10; transform: translateY(-110%);
  background: var(--wc-text); color: var(--wc-card); font: 600 11px/1 var(--wc-font);
  padding: 6px 8px; border-radius: 8px; white-space: nowrap;
  box-shadow: 0 6px 16px rgba(0,0,0,.18);
}

/* -------------------- Light/Dark switch -------------------- */
.wc-switch {
  position: relative; width: 44px; height: 24px; border-radius: 999px;
  background: var(--wc-border); border: 1px solid var(--wc-border);
}
.wc-switch__thumb {
  position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; border-radius: 999px;
  background: var(--wc-card); box-shadow: 0 1px 2px rgba(0,0,0,.15);
  transition: left .18s ease;
}
.wc-switch.is-on { background: color-mix(in srgb, var(--wc-ring) 20%, var(--wc-border)); }
.wc-switch.is-on .wc-switch__thumb { left: 24px; }


/* -------------------- Accessibility -------------------- */
.wc-btn:focus-visible, .wc-iconbtn:focus-visible, .wc-select:focus-visible, .wc-input:focus-visible,
.wc-day:focus-visible { outline: 2px solid var(--wc-ring); outline-offset: 2px; }
@media (prefers-reduced-motion: reduce) { *, *::before, *::after { transition: none !important; } }

/* -------------------- Responsive -------------------- */
@media (max-width: 980px) {
  .wc-months { grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 640px) {
  .wc-months { grid-template-columns: 1fr; }
}

/* -------------------- Utility -------------------- */
.wc-kbd {
  font: 700 10px/1 var(--wc-font); padding: 3px 6px; border: 1px solid var(--wc-border);
  border-radius: 6px; background: var(--wc-elev); color: var(--wc-text-dim);
}
